(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{9238:(e,t,r)=>{Promise.resolve().then(r.bind(r,1255)),Promise.resolve().then(r.bind(r,314)),Promise.resolve().then(r.t.bind(r,9324,23)),Promise.resolve().then(r.t.bind(r,8173,23))},1255:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>n,_:()=>c});var s=r(5155),a=r(2115);let l=(0,a.createContext)();function n(e){let{children:t}=e,[r,n]=(0,a.useState)([]);return(0,a.useEffect)(()=>{let e=localStorage.getItem("cart");e&&n(JSON.parse(e))},[]),(0,s.jsx)(l.Provider,{value:{cart:r,addToCart:e=>{n(t=>{let r;return r=t.find(t=>t.productId===e._id)?t.map(t=>t.productId===e._id?{...t,quantity:t.quantity+1}:t):[...t,{productId:e._id,quantity:1,product:e}],localStorage.setItem("cart",JSON.stringify(r)),r})},removeFromCart:e=>{n(t=>{let r=t.filter(t=>t.productId!==e);return localStorage.setItem("cart",JSON.stringify(r)),r})},updateQuantity:(e,t)=>{n(r=>{let s=r.map(r=>r.productId===e?{...r,quantity:t}:r);return localStorage.setItem("cart",JSON.stringify(s)),s})}},children:t})}let c=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useCart must be used within a CartProvider");return e}},314:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(5155),a=r(8173),l=r.n(a);let n=(0,r(7401).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var c=r(8474),u=r(6046),i=r(2115),o=r(1255);let d=()=>{let e=(0,u.useRouter)(),t=(0,u.useSearchParams)(),[r,a]=(0,i.useState)(""),{cart:d}=(0,o._)(),f=d.reduce((e,t)=>e+t.quantity,0);return(0,i.useEffect)(()=>{a(t.get("q")||"")},[t]),(0,s.jsx)("header",{className:"sticky top-0 z-40 w-full bg-rose-50 shadow-sm",children:(0,s.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,s.jsx)(l(),{href:"/",className:"text-pink-700 font-bold uppercase tracking-tight text-2xl font-sans",children:"Sweet Delights"}),(0,s.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[(0,s.jsx)(l(),{href:"/all-products",className:"text-sm font-medium text-black-600 hover:text-pink-600",children:"All"}),(0,s.jsx)(l(),{href:"/category/cakes",className:"text-sm font-medium text-black-600 hover:text-pink-600",children:"Cakes"}),(0,s.jsx)(l(),{href:"/category/cookies",className:"text-sm font-medium text-black-600 hover:text-pink-600",children:"Cookies"})]})]}),(0,s.jsx)("form",{onSubmit:t=>{t.preventDefault(),r?e.push("/all-products?q=".concat(encodeURIComponent(r))):e.push("/all-products")},className:"hidden md:flex items-center flex-1 justify-center px-6",children:(0,s.jsx)("div",{className:"w-full max-w-md",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:r,onChange:e=>a(e.target.value),placeholder:"Search for desserts...",className:"w-full rounded-lg border bg-gray-50 py-2 pl-10 pr-4 text-sm text-black placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500"})]})})}),(0,s.jsxs)(l(),{href:"/cart",className:"flex items-center justify-center rounded-lg border bg-white p-2 hover:bg-pink-100 relative",children:[(0,s.jsx)(c.A,{className:"h-5 w-5"}),f>0&&(0,s.jsx)("span",{className:"absolute -top-2 -right-2 bg-pink-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:f}),(0,s.jsx)("span",{className:"sr-only",children:"Cart"})]})]})})})}},7401:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var s=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:i="",children:o,iconNode:d,...f}=e;return(0,s.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:r,strokeWidth:u?24*Number(c)/Number(a):c,className:l("lucide",i),...f},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),u=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:u,...i}=r;return(0,s.createElement)(c,{ref:n,iconNode:t,className:l("lucide-".concat(a(e)),u),...i})});return r.displayName="".concat(e),r}},8474:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(7401).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},5353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return a}});let s=r(2115);function a(e,t){let r=(0,s.useRef)(()=>{}),a=(0,s.useRef)(()=>{});return(0,s.useMemo)(()=>e&&t?s=>{null===s?(r.current(),a.current()):(r.current=l(e,s),a.current=l(t,s))}:e||t,[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9324:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[533,173,441,517,358],()=>t(9238)),_N_E=e.O()}]);